{
 "creation": "2016-08-13 12:07:48.862017", 
 "css": "table {\n    margin: 0 auto; /* or margin: 0 auto 0 auto */\n    width: 90%;\nline-height:1;\n  }\n\n#main {\n   margin-left: 20px;\n   margin-right: 20px;\n}\n@media all {\n   div .printedby {\n       position: fixed;\n       bottom: 0;\n       text-align: center;\n       font-size: xx-small;\n       width: 100% !important;\n   }\n}", 
 "custom_format": 1, 
 "disabled": 0, 
 "doc_type": "Delivery Note", 
 "docstatus": 0, 
 "doctype": "Print Format", 
 "font": "Default", 
 "html": "<div class=\"page-break\">\n    <div id=\"header-html\" class=\"hidden-pdf\">\n        {%- if letter_head and not no_letterhead -%}\n            <div class=\"letter-head\">\n                {{ letter_head }}\n            </div>\n        {%- endif -%}\n    </div>\n\n    <div id=\"footer-html\" class=\"visible-pdf\">\n        {% if not no_letterhead and footer %}\n            <div class=\"letter-head-footer\">\n            {{ footer }}\n            </div>\n        {% endif %}\n\n        <p class=\"text-center small page-number visible-pdf\">\n            {{ _(\"Page {0} of {1}\").format('<span class=\"page\"></span>', '<span class=\"topage\"></span>') }}\n        </p>\n    </div>\n\n    <div class=\"print-heading\">\n    <div  style=\"text-align: center;\">\n        <h3>GOODS DELIVERY NOTE</h3>\n        <h5><u>\n        {%- if doc.items[0].cost_center -%}\n            {{ doc.items[0].cost_center }}\n        {%- endif -%}\n        </u></h5>\n    </div>\n\n    <div>\n        <table class = \"table1\" style=\"margin-top: 1px; text-align:justify;font-size:small; width:100% \">\n            <tr>\n                <td><strong>GDN No.:</strong>&nbsp;&nbsp;{{ doc.name }}</td>\n                <td><strong>Sales Order No:</strong>&nbsp;&nbsp;\n                {%- if doc.items[0].cost_center -%}\n                {{ doc.items[0].against_sales_order }}\n                {%- endif -%}\n                </td>\n            </tr>\n            <tr>\n                <td><strong>GDN Date:</strong>&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.posting_date) }}</td>\n                <td><strong>Sales Order Date:</strong>&nbsp;&nbsp;\n                {%- if doc.items[0].cost_center -%}\n                {{ frappe.utils.formatdate(frappe.db.get_value(\"Sales Order\", doc.items[0].against_sales_order, \"transaction_date\")) }}\n                {%- endif -%}\n                </td>\n            </tr>\n            <tr>\n                <td><strong>Customer Name:</strong> &nbsp;&nbsp;{{ doc.customer }}</td>\n                <td>\n                    <strong>Sales Type: </strong> &nbsp;&nbsp;\n                    {%- if doc.export -%}\n                        Is Export\n                    {%- elif doc.is_kidu_sale -%}\n                        Is Kidu Sale\n                    {%-else-%}\n                        None\n                    {%- endif -%}\n                </td>\n            </tr>\n            <tr>\n                <td> <strong> Destination: </strong> &nbsp;&nbsp;\n                {%- if doc.shipping_address_name -%}\n                    {{ doc.shipping_address_name }}\n                {%- else -%}\n                    {{ frappe.db.get_value(\"Customer\", doc.customer, \"location\") }}\n                {%- endif -%} \n                </td>\n\n                {%- if frappe.db.get_value(\"User Account\",frappe.db.get_value(\"Customer\", doc.customer, \"customer_id\"),\"mobile_no\") -%}\n                <td>\n                    <strong>Customer Contact:</strong>&nbsp;&nbsp;{{frappe.db.get_value(\"User Account\",frappe.db.get_value(\"Customer\", doc.customer, \"customer_id\"),\"mobile_no\") }}\n                </td>\n                {%- else -%}\n                <td>\n                    <strong>Customer Contact:</strong>&nbsp;&nbsp;\n                    {{ frappe.db.get_value(\"Customer\", doc.customer, \"mobile_no\") }}\n                </td>\n                {%- endif -%}\n            </tr>\n            <tr>\n                <td><strong>Transporter Name:</strong>&nbsp;&nbsp;{{ doc.drivers_name }}</td>\n                <td><strong>Transporter Contact Number:</strong>&nbsp;&nbsp;{{ doc.contact_no }}</td>\n            </tr>\n            <tr>\n                <td><strong>Payment Entry No:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Payment Entry\",{\"so_reference\":doc.items[0].against_sales_order}, \"name\") }}\n                </td>\n                {%- if doc.customer_order -%}\n                <td><strong>Customer Order:</strong>&nbsp;&nbsp;{{ doc.customer_order }}</td>\n                {%- endif -%}\n            </tr>\n            <tr>\n                <td><strong>Vehicle No:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Vehicle\", doc.vehicle, \"vehicle_no\") }}</td>\n            </tr>\n        </table>\n        &nbsp;\n        <br/>\n                \n        <table class=\"table table-bordered\" style=\"margin-top: 15px; font-size : 9pt;\">\n            <tbody>\n                <tr>\n                    <th style=\"text-align: center;\">Sr</th>\n                    <th style=\"text-align: center;\">Material Code</th>\n                    <th style=\"text-align: center;\">Material Name</th>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <th style=\"text-align: center;\">Lot No.</th>\n                    {%- endif -%}\n                    <th style=\"text-align: center;\">UoM</th>\n                    <th style=\"text-align: center;\">Qty Delivered</th>\n                    <th style=\"text-align: center;\">Balance Qty</th>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <th style=\"text-align: center;\">Total Pcs</th>\n                    {%- endif -%}\n                    <th style=\"text-align: center;\">Rate</th>\n                    <th class=\"text-right\" style=\"text-align: center;\">Amount Delivered</th>\n                </tr>\n                {%- for row in doc.items -%}\n                <tr>\n                    <td style=\"width: 3%;\">{{ row.idx }}</td>\n                    <td style=\"width: 10%; text-align: center\">{{ row.item_code }}</td>\n                    <td style=\"width: 45%; text-align: center\">{{ row.item_name }}</td>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <td style=\"width: 10%; text-align: center\">{{ row.lot_number }}</td>\n                    {%- endif -%}   \n                    <td style=\"width: 10%; text-align: center\">\n                        {%- if row.sales_uom -%} {{ row.sales_uom }} {%- else -%} {{ row.stock_uom }} {%- endif -%}\n                    </td>\n                    <td style=\"width: 10%; text-align: center\">{{ row.qty }}</td>\n                    <td>\n                        {%- if doc.docstatus == 1 -%}\n                        {{ frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"qty\") - frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"delivered_qty\") }}\n                        {%- else -%}\n                        {{ frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"qty\") - (frappe.db.get_value(\"Sales Order Item\", row.so_detail, \"delivered_qty\") + row.qty) }} {{ doc.docstatus }}\n                        {%- endif -%}\n                    </td>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                    <td style=\"width: 10%; text-align: center\">{{ row.total_pieces }}</td>\n                    {%- endif -%}   \n                    <td style=\"width: 10%; text-align: right\">{{ frappe.format_value(row.rate, {\"fieldtype\":\"Currency\"})}}</td>\n                    <td style=\"width: 12%; text-align: right\">{{ frappe.format_value(row.amount, {\"fieldtype\":\"Currency\"})}}</td>\n                </tr>\n                {%- endfor -%}\n                <tr>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                    <td colspan=\"9\" style='text-align:right'>\n                    {%- else -%}\n                    <td colspan=\"7\" style='text-align:right'>\n                    {%- endif -%}\n                        <b>Total Amount</b>\n                    </td>\n                    <td style='text-align:right'>{{ frappe.format_value(doc.total, {\"fieldtype\":\"Currency\"}) }}</td>\n                </tr>\n                <tr>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <td colspan=\"9\" style=\"text-align:right;\">\n                    {%- else -%}\n                        <td colspan=\"7\" style=\"text-align:right;\">\n                    {%- endif -%}   \n                        Additional Cost or Discount                     \n                    </td>\n                    <td style=\"text-align:right;\">\n                        {{ frappe.format_value(doc.discount_amount * -1, {\"fieldtype\":\"Currency\"}) }}\n                    </td>\n                </tr>\n                {%- if doc.transportation_charges -%}\n                <tr>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <td colspan=\"9\" style=\"text-align:right;\">\n                    {%- else -%}\n                        <td colspan=\"7\" style=\"text-align:right;\">\n                    {%- endif -%}\n            \n                    <i>(Transportation Charges):</i></td>\n                    <td style = \"text-align : right;\">{{ frappe.format_value(doc.transportation_charges, {\"fieldtype\":\"Currency\"}) }}</td>\n                </tr>\n                {%- endif -%}\n                {%- if doc.loading_cost -%}\n                <tr>\n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <td colspan=\"9\" style=\"text-align:right;\">\n                    {%- else -%}\n                        <td colspan=\"7\" style=\"text-align:right;\">\n                    {%- endif -%}\n            \n                    Loading Cost(Loading Rate x Total Qty):</td>\n                    <td style = \"text-align : right;\">{{ doc.loading_rate }}x{{ doc.items|sum(attribute='qty') }} = {{ frappe.format_value(doc.loading_cost, {\"fieldtype\":\"Currency\"}) }}</td>\n                </tr>\n                {%- endif -%}\n                <tr> \n                    {%- if doc.naming_series == \"Timber Products\" -%}\n                        <td colspan=\"9\" style='text-align:right'>\n                    {%- else -%}\n                        <td colspan=\"7\" style='text-align:right'>\n                    {%- endif -%}\n                    <b>Grand Amount</b></td>\n                    <td style='text-align:right'>{{ frappe.format_value(doc.grand_total, {\"fieldtype\":\"Currency\"}) }}</td>\n                </tr>\n            </tbody>\n        </table>\n\n        <div style=\"float: left; width: 100%; font-size: small\">\n           <div><strong>Amount in Words: </strong> Ngultrum- {{ (doc.in_words)[3:] }} </div>\n        </div>\n        <b>Note : </b><i>Validity Period: {{ doc.validity_period}}</i> <br/>\n        {%- if doc.validity_extension -%}\n            </b><i>Validity Period extended till: {{ doc.validity_extension }}</i>\n        {%- endif -%}\n\n        <div style=\"float: left; padding-top: 20px; width: 100%; font-size: small\">\n            <!--<div><strong>Source of the materials. : </strong> {{ frappe.db.get_value(\"Sales Order\", doc.items[0].against_sales_order, \"location\") }} COMMENTED BY SHIV ON 2019/12/30 AS PER BIRKHA'S REQUEST-->\n            <div><strong>Warehouse : </strong> {{ doc.items[0].warehouse }} </div>\n            <div><strong>Source of the materials: </strong> {{ doc.items[0].location}} </div>\n        </div>\n\n        <div style=\"padding-top: 30px; clear: both;\">\n\n            <div>Authorized Signatory</div>\n            <div style=\"padding-top: 50px; width: 33%; float: left; text-align:center;\">(Delivered By) </div>\n            <div style=\"padding-top: 50px; width: 33%; float: left; text-align:center;\">(Carrier) </div>\n            <div style=\"padding-top: 50px; width: 33%; float: left; text-align:center;\">(Received By)</div>\n        </div>\n\n    </div>\n\n</div>\n\n<div>\n{%- if doc.naming_series == \"Mineral Products\" -%}\n<div style=\"padding-top:10px; font-size: 8pt; \"><hr style=\"border-top: 1px dashed #000\"/><u><p style=\"text-align:center; \">Loading Slip</p></u>\n<table>\n\t<tr><td><strong>GDN No:</strong>&nbsp;&nbsp;{{doc.name}}</td><td style=\"float:right;\"><strong>Sales Order No:</strong>&nbsp;&nbsp;{{ doc.items[0].against_sales_order }}</td></tr>\n\t<tr><td><strong>GDN Date:</strong>&nbsp;&nbsp;{{ frappe.utils.formatdate(doc.posting_date) }}</td><td style=\"float:right;\"><strong>Sales Order Date:</strong>&nbsp;&nbsp;\n                {%- if doc.items[0].cost_center -%}\n                {{ frappe.utils.formatdate(frappe.db.get_value(\"Sales Order\", doc.items[0].against_sales_order, \"transaction_date\")) }}\n                {%- endif -%}</td></tr>\n\t<tr><td><strong>Customer Name:</strong> &nbsp;&nbsp;{{ doc.customer }}</td><td style=\"float:right;\"><strong>Vehicle No:</strong>&nbsp;&nbsp;{{ frappe.db.get_value(\"Vehicle\", doc.vehicle, \"vehicle_no\") }}</td></tr>\n\t<tr><td><strong>Warehouse : </strong> {{ doc.items[0].warehouse }}</td><td></td></tr>\n\t<tr><td><strong>Source of the materials: </strong> {{ doc.items[0].location}}</td><td style=\"float:right;\">GFPMO NO:\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026\u2026</td></tr>\n</table>\n</div>\n{%- endif -%}\n<div style=\"padding-top: 100px; clear: both;\">\n<div class=\"printedby\">This print is system generated and should be considered VALID only with appropriate seal and/or signature. <br>  Printed by {{ frappe.user }} on {{ frappe.utils.nowdate()  }} at {{ frappe.utils.nowtime() }}</div>\n", 
 "idx": 0, 
 "modified": "2022-05-20 15:11:08.458621", 
 "modified_by": "Administrator", 
 "name": "Goods Delivery Note", 
 "owner": "Administrator", 
 "parent": "Delivery Note", 
 "print_format_builder": 0, 
 "print_format_type": "Server", 
 "standard": "Yes"
}